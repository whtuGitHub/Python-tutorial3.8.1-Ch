# 4. 流程控制进阶

除了刚刚介绍的[while](https://docs.python.org/3.8/reference/compound_stmts.html#while)语句，Python就像双胞胎一样会使用其他语言用的流程控制语句。

## 4.1. `if`语句

也许最出名的语句就是`if`语句了，比如：

```python
>>> x = int(input("Please enter an integer: "))
Please enter an integer: 42
>>> if x < 0:
...     x = 0
...     print('Negative changed to zero')
... elif x == 0:
...     print('Zero')
... elif x == 1:
...     print('Single')
... else:
...     print('More')
...
More
```

可以没有或多个`elif`代码块，`else`部分的代码块是可选的。关键词`elif`是`else if`的缩写，它有助于避免过长的缩进。`if ... elif ... elif ...`序列是其他语言中的`switch`或`case`语句的替代。

## 4.2. `for`语句

Python中的`for`语句跟你在C或Pascal中用的有些差别，除了可以迭代数字的数学演化过程 （如Pascal）或让用户定义迭代步骤和停止条件 (如 C)，Python中的`for`语句可以迭代任何序列 (一个列表或一个字符串) 中的元素，按元素出现在序列中的顺序进行。比如：

```python
>>> words = ['cat', 'window', 'defenestrate']
>>> for w in words:
...     print(w, len(w))
...
cat 3
window 6
defenestrate 12
```

当迭代同一个集合时，修改集合的代码可能很难正确处理。相反，它更直接第循环集合的整个副本或新建一个新的集合：

```python
# 策略： 迭代整个副本
for user, status in user.copy().items():
    if status == 'inactive':
        del users[user]

# 策略： 新建一个新集合
active_users = {}
for user, status in users.items():
    if status == 'active':
        active_users[user] = status
```

## 4.3. [range()](https://docs.python.org/3.8/library/stdtypes.html#range)函数 

如果你需要迭代一个数字序列，内建函数[range()](https://docs.python.org/3.8/library/stdtypes.html#range)会很方便，它会生成一个算术级数：

```python
>>> for i in range(5):
...     print(i)
...
0
1
2
3
4
```

所给的结束点不包含在所生成序列中，`range(10)`生成10个值，序列的元素合法索引数目是它的长度10。它可以使范围从其他数开始或者设定不同的增量（增量甚至可以是负值，有时候这被称为步长）：

```
range(5, 10)
	5, 6, 7, 8, 9

range(0, 10, 3)
	0, 3, 6, 9

range(-10, -100, -30)
	-10, -40, -70
```

为了遍历序列的索引，可以结合[range()](https://docs.python.org/3.8/library/stdtypes.html#range)和[len()](https://docs.python.org/3.8/library/functions.html#len)实现：

```python
>>> a = ['Mary', 'had', 'a', 'little', 'lamb']
>>> for i in range(len(a)):
...     print(i, a[i])
...
0 Mary
1 had
2 a
3 little
4 lamb
```

